# Copilot Instructions

このプロジェクトはLLM向け連想記憶MCPサーバです。

## 重要な開発ルール

📋 **詳細な開発ガイドライン**: [.github/copilot-instructions.md](.github/copilot-instructions.md)

## コード生成時の注意点

1. **TypeScript厳密モード** - 全ての型を明示的に定義
2. **記憶ドメイン対応** - Global/User/Project/Session の4つのドメインを考慮
3. **MCP仕様準拠** - Model Context Protocolの仕様に準拠
4. **エラーハンドリング** - カスタムエラークラスを使用
5. **テスト駆動** - 実装前にテストケースを作成

## 主要な型定義

```typescript
enum MemoryDomain {
  GLOBAL = 'global',
  USER = 'user', 
  PROJECT = 'project',
  SESSION = 'session'
}

interface MemoryRecord {
  id: string;
  domain: MemoryDomain;
  content: string;
  metadata: Record<string, unknown>;
  createdAt: Date;
  updatedAt: Date;
}
```

## アーキテクチャ

- `src/transport/` - STDIO/HTTP/SSE通信層
- `src/core/` - ビジネスロジック
- `src/storage/` - データ永続化
- `src/types/` - 型定義
- `src/utils/` - ユーティリティ

参考: [AGENT.md](AGENT.md) | [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md)
